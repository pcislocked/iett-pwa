@tailwind base;
@tailwind components;
@tailwind utilities;

/* WP8 Metro Design Tokens */
:root {
  --wp-accent:   #00AFF0;
  --wp-bg:       #000000;
  --wp-surface:  #0d0d0d;
  --wp-text:     #ffffff;
  --wp-text-sec: #a6a6a6;
  --wp-inactive: #404040;
  --wp-border:   #111111;
}

@layer base {
  html { font-family: "Segoe UI", "Segoe WP", Arial, sans-serif; }
  body { background: #000; color: #fff; }
}

@layer components {
  .metro-tilt { transition: transform 100ms ease-out; }
  .metro-tilt:active { transform: scale(0.97) perspective(400px) rotateX(2deg); }
  .metro-row { @apply flex items-center gap-4 px-4 py-3.5 border-b border-[#111] metro-tilt; }
  .metro-section { @apply px-4 pt-4 pb-1 text-[11px] uppercase tracking-[0.12em] text-[#a6a6a6]; }
  .card { @apply bg-[#0d0d0d] border border-[#111] p-4; }
  .eta-badge   { @apply inline-block text-xs font-mono font-bold px-2 py-0.5; }
  .eta-soon    { @apply eta-badge bg-eta-soon/20 text-eta-soon; }
  .eta-coming  { @apply eta-badge bg-eta-coming/20 text-eta-coming; }
  .eta-far     { @apply eta-badge bg-eta-far/20  text-eta-far; }
}

@layer utilities {
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  .safe-area-pb { padding-bottom: env(safe-area-inset-bottom, 0px); }
  .safe-area-pt { padding-top: env(safe-area-inset-top, 0px); }
}

/* Leaflet */
.leaflet-container { background: #0d0d0d; font-family: inherit; }
.leaflet-popup-content-wrapper {
  background: #0d0d0d; color: #e2e8f0;
  border: 1px solid #222; border-radius: 0 !important;
  box-shadow: none; padding: 0;
}
.leaflet-popup-content { margin: 0; min-width: 160px; }
.leaflet-popup-tip-container { display: none; }
.leaflet-popup-close-button { color: #555 !important; top: 6px !important; right: 8px !important; font-size: 18px !important; }
.leaflet-popup-close-button:hover { color: #eee !important; }
.popup-card { padding: 10px 14px 12px; min-width: 160px; }
.popup-route { display: inline-block; font-weight: 800; font-size: 13px; color: #fff; padding: 2px 8px; margin-bottom: 5px; }
.popup-name { font-size: 12px; color: #aaa; margin: 0 0 3px; line-height: 1.35; }
.popup-eta { font-size: 13px; color: #f1f5f9; margin: 2px 0; }
.popup-label { font-size: 10px; color: #555; }
.popup-mono { font-family: monospace; font-size: 10px; color: #888; margin-top: 4px; }
.popup-stop-name { font-weight: 700; font-size: 13px; color: #f1f5f9; margin-bottom: 4px; line-height: 1.3; }
.popup-direction-badge { display: inline-flex; align-items: center; gap: 3px; background: #00AFF0; color: #000; padding: 2px 7px; font-size: 11px; font-weight: 600; margin-bottom: 5px; }
.popup-distance-badge { display: inline-block; background: #111; color: #888; padding: 1px 6px; font-size: 11px; margin-bottom: 6px; }
.popup-route-pills { display: flex; flex-wrap: wrap; gap: 3px; margin-bottom: 8px; }
.popup-route-pill { background: #111; color: #00AFF0; padding: 1px 5px; font-size: 10px; font-weight: 600; }
.popup-link-btn { display: block; text-align: center; background: #00AFF0; color: #000; padding: 5px 10px; font-size: 12px; font-weight: 600; text-decoration: none; margin-top: 4px; transition: background 0.15s; }
.popup-link-btn:hover { background: #009fd8; }
